<!DOCTYPE html>
<html>
  <head>
    <title>App Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="true" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
    />
    <!-- <link rel="stylesheet" href="Style/style.css" /> -->
    <link rel="stylesheet" href="Style/style1.css" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      .icon {
        font-size: 18px;
        display: flex;
        align-items: center;
      }
      #dwn {
        display: none;
      }
      .swal2-modal,
      .swal2-container.in {
        background: #ffffff4f;
        backdrop-filter: blur(26px);
      }
      .swal2-title {
        color: white;
      }
      .swal2-html-container {
        color: white !important;
        letter-spacing: 1px;
      }
      .swal2-success-circular-line-left {
        display: none;
      }
      .swal2-success-circular-line-right {
        display: none;
      }
      .swal2-success-fix {
        display: none;
      }
      fieldset {
        border: none;
        padding: 0;
      }
    </style>
    <!-- <style>
      * {
        /* -webkit-user-select: none; */
        font-size: 20px;
        outline: none;
      }

      body {
        background: #333;
        color: white;
      }

      fieldset {
        background: #444;
        text-align: center;
        border: 1px solid #555;
        border-radius: 10px;
        padding: 10px;
        margin: 20px auto;
        width: 90%;
      }

      #main p {
        background: #555;
        border: 1px solid black;
        border-radius: 20px;
        display: flex;
        flex-direction: column;
        height: 90px;
        justify-content: center;
        overflow: hidden;
        padding: 5px;
        margin: 10px 0;
      }

      #main select,
      #main input[type="text"],
      button {
        /* -webkit-appearance: none; */
        background: #555;
        border: 1px solid black;
        color: white;
        text-align: center;
        height: 40px;
        width: 32%;
        padding: 5px;
      }

      #main input[type="text"] {
        width: 80%;
      }

      #i {
        font-size: 75%;
      }

      .fa-angle-double-right,
      .fa-angle-double-left {
        font-size: 30px;
        text-align: left;
        position: absolute;
        right: 25px;
        width: 5%;
      }

      .fa-angle-double-left {
        left: 25px;
      }

      #bk {
        border-radius: 30px;
        display: none;
        width: 30%;
        background: #555;
        border: 1px solid #444;
        color: white;
        text-align: center;
        padding: 10px;
        margin: 20px auto;
      }
      hr {
        border-color: black;
      }
    </style> -->
  </head>
  <body class="app_store_container">
    <div class="app_store_box">
      <!-- <button id="bk" style="display: none"> -->
      <!-- <div id="header-icons"> -->
        <i
        class="fas fa-arrow-left icon"
        title="Back"
        id="bk"
        style="display: none"
        aria-label="Back button"
      ></i>
      <!-- </div> -->
      <!-- </button> -->
      <h2>App Store</h2>
      <img src="images/open.png" alt="" aria-hidden="true" />
    </div>
    <fieldset id="main">
      <!-- <legend>App Store</legend> -->
      <div class="prev_next-input">
        <b title="Previous Page, button" class="fa fa-angle-double-left"></b>
        <b title="Next Page, button" class="fa fa-angle-double-right"></b>
        <input id="t" type="text" placeholder="Type or paste a query..." />
      </div>

      <div class="select_Yours">
        <div class="my_options">
          <select id="a" title="Category">
            <option value="All" selected="selected">- Any -</option>
            <option value="517">Activators For Microsoft Products</option>
            <option value="518">Backup And Restore</option>
            <option value="181">Books & Reference</option>
            <option value="516">CD/DVD Tools</option>
            <option value="94">compression and archiving</option>
            <option value="547">Educational</option>
            <option value="55">File Sharing</option>
            <option value="999">Financial</option>
            <option value="128">ftp client</option>
            <option value="4">Games</option>
            <option value="18">Internet</option>
            <option value="65">Lifestyle</option>
            <option value="7">Miscellaneous</option>
            <option value="6">Ms Office</option>
            <option value="1">Multimedia</option>
            <option value="137">News And Magazines</option>
            <option value="3">Operating system</option>
            <option value="57">Programming tools</option>
            <option value="64">Social</option>
            <option value="2">Software for visually impaired</option>
            <option value="112">System Utilities</option>
            <option value="127">text editors and converters</option>
            <option value="5">Text to speech</option>
            <option value="785">VPN and Proxy</option>
          </select>
          <select id="b" title="Operating System">
            <option value="All" selected="selected">- Any -</option>
            <option value="10">Apple iOS</option>
            <option value="20">Apple Mac OS (OSX)</option>
            <option value="9">Google Android</option>
            <option value="19">Linux</option>
            <option value="8">Microsoft Windows</option>
          </select>
        </div>
        <div class="find_selected">
          <button onclick="fire()">FIND</button>
        </div>
        <div id="result">
          <p>
            <i aria-live="polite" id="p_wait">Please wait...</i>
          </p>
        </div>
      </div>
    </fieldset>
    <div id="dwn"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script>
      var pg = 0;
      $(".fa-angle-double-left").click(function () {
        if (pg == 0) {
          Swal.fire({
            icon: "error",
            text: "No previous page :(",
          });
        } else {
          pg -= 1;
          fire();
        }
      });
      $(".fa-angle-double-right").click(function () {
        pg += 1;
        fire();
      });
      function fire() {
        $(".fa").hide();
        $.get(
          "https://ubsa.in/smartprogrammers/fire.php?url=" +
            encodeURIComponent(
              "https://blindhelp.net/software?sp=req-now&title=" +
                $("#t").val().replace(/ /g, "+") +
                "&field_category_tid=" +
                $("#a").val() +
                "&os=" +
                $("#b").val() +
                "&page=" +
                pg
            ),
          function (data) {
            $(".fa").show();
            if ($(data).find(".field-name-title").find("a").attr("href")) {
              $("#result").empty();
              $.each($(data).find(".field-name-title"), function () {
                $("#result").append(
                  "<p><i id='i' URL='https://blindhelp.net" +
                    $(this).find("a").attr("href") +
                    "?sp=req-now'>" +
                    $(this).find("a").text() +
                    "</i></p>"
                );
              });
            } else {
              Swal.fire({
                icon: "error",
                title: "Oops...",
                text: "Nothing was found :-(\n\nTry making a new search instead!",
              });
              $(".fa").hide();
              pg = 0;
            }
          }
        );
      }
      fire();
      $("#result").on("click", "#i", function () {
        $.get(
          "https://ubsa.in/smartprogrammers/fire.php?url=" +
            encodeURIComponent($(this).attr("URL")),
          function (data) {
            $("#main").hide();
            $("#dwn").empty().show();
            $("#bk").show();
            window.scrollTo(0, 0);
            $("#dwn").append(
              "<i>" +
                $(data).find("div[property='content:encoded']").html() +
                "</i><br><br>"
            );
            $.each($(data).find(".label-above").nextUntil("br"), function () {
              $("#dwn").append($(this).html() + "<br><br>");
            });
          }
        );
      });
      $("#bk").click(function () {
        $("#bk,#dwn").hide();
        $("#main").show();
        window.scrollTo(0, 0);
      });
    </script>
  </body>
</html>
